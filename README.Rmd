---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

# emayili <img src="inst/hex/emayili-hex.png" align="right" alt="" width="120" />

[![Travis-CI build status](https://travis-ci.org/datawookie/emayili.svg?branch=master)](https://travis-ci.org/datawookie/emayili)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
[![Codecov test coverage](https://img.shields.io/codecov/c/github/r-lib/pkgdown/master.svg)](https://codecov.io/github/r-lib/pkgdown?branch=master)

emayili is a package for sending emails from R. The design goals are:

- works on all manner of SMTP servers and
- has minimal dependencies (or dependencies which are easily satisfied).

The package name is an adaption of the Zulu word for email, emayili.

## Installation

At the moment you need to install a specific branch of the `{curl}` package.

```{r eval=FALSE}
devtools::install_github("jeroen/curl", ref = "smtp")
```

Then install `{emayili}`.

```{r eval=FALSE}
devtools::install_github("datawookie/emayili")
```

## Usage

First create a message object.

```{r eval=FALSE}
library(emayili)
library(dplyr)

email <- envelope()
```

Add addresses for the sender and recipient.

```{r eval=FALSE}
email <- email %>%
  from("alice@yahoo.com") %>%
  to("bob@google.com") %>%
  cc("craig@google.com")
```

Add a subject.

```{r eval=FALSE}
email <- email() %>% subject("This is a plain text message!")
```

Add a body.

```{r eval=FALSE}
email <- email() %>% body("Hello!")
```

Add an attachment.

```{r eval=FALSE}
email <- email() %>% attachment("image.jpg")
```

Create a SMTP server object and send the message.

```{r eval=FALSE}
smtp <- server(host = "smtp.gmail.com",
               port = 465,
               username = "bob@gmail.com",
               password = "bd40ef6d4a9413de9c1318a65cbae5d7")
smtp(email, verbose = TRUE)
```

## Similar Packages

There are a selection of other R packages which also send emails:

- [blastula](https://cran.r-project.org/web/packages/blastula/index.html)
- [blatr](https://cran.r-project.org/web/packages/blatr/index.html) (Windows)
- [gmailr](https://cran.r-project.org/web/packages/gmailr/index.html)
- [mail](https://cran.r-project.org/web/packages/mail/index.html)
- [mailR](https://cran.r-project.org/web/packages/mailR/index.html)
- [sendmailR](https://cran.r-project.org/web/packages/sendmailR/index.html)
